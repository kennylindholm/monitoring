---
# Main site playbook - Entry point for all Ansible operations

# Install Docker on servers
- import_playbook: playbooks/install-docker.yml
  tags: docker

# Deploy monitoring stack using individual component playbooks
- import_playbook: playbooks/deploy-prometheus.yml
  tags: [monitoring, prometheus]

- import_playbook: playbooks/deploy-grafana.yml
  tags: [monitoring, grafana]

- import_playbook: playbooks/deploy-loki.yml
  tags: [monitoring, loki]

- import_playbook: playbooks/deploy-alertmanager.yml
  tags: [monitoring, alertmanager]

- import_playbook: playbooks/deploy-cadvisor.yml
  tags: [monitoring, cadvisor]

- import_playbook: playbooks/deploy-node-exporter.yml
  tags: [monitoring, node-exporter]

# Deploy host-based Promtail for log collection
- import_playbook: playbooks/deploy-promtail.yml
  tags: [monitoring, promtail]
# Additional playbooks can be added here as the project grows
# Examples:
# - import_playbook: playbooks/security.yml
#   tags: security
# - import_playbook: playbooks/backup.yml
#   tags: backup
# - import_playbook: playbooks/update.yml
#   tags: update
